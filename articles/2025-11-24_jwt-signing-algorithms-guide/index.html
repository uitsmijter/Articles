<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.136.2"><link rel=stylesheet href="/css/main.min.49440caa0f907ae3655b9039a0dff4feeea87da7217d4c883dec3d2285dff8db.css" integrity="sha256-SUQMqg+QeuNlW5A5oN/0/u6ofachfUyIPew9IoXf+Ns=" crossorigin=anonymous><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Uitsmijter - From One to Many: Understanding JWT Signing as You Scale</title>
<meta name=description content="Follow a startup's journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way."><link rel=canonical href=/articles/2025-11-24_jwt-signing-algorithms-guide/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="From One to Many: Understanding JWT Signing as You Scale"><meta property="og:description" content="Follow a startup's journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way."><meta property="og:url" content="/articles/2025-11-24_jwt-signing-algorithms-guide/"><meta property="og:site_name" content="Uitsmijter"><meta property="article:published_time" content="2025-11-24T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-24T10:38:32+01:00"><meta property="og:image" content="/img/jwt-signing-journey.png"><meta property="og:image:alt" content="From One to Many: Understanding JWT Signing as You Scale"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="From One to Many: Understanding JWT Signing as You Scale"><meta name=twitter:description content="Follow a startup's journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way."><meta name=twitter:image content="/img/jwt-signing-journey.png"><meta name=twitter:image:alt content="From One to Many: Understanding JWT Signing as You Scale"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#/schema/organization/1","name":"Uitsmijter","url":"/","sameAs":["https://github.com/uitsmijter"],"image":{"@type":"ImageObject","@id":"/#/schema/image/1","url":"/\u003cnil\u003e","width":null,"height":null,"caption":"Uitsmijter"}},{"@type":"WebSite","@id":"/#/schema/website/1","url":"/","name":"Uitsmijter","description":"A versatile OAuth2 authorization server and Traefik middleware for Kubernetes and Docker.","publisher":{"@id":"/#/schema/organization/1"}},{"@type":"WebPage","@id":"/articles/2025-11-24_jwt-signing-algorithms-guide/","url":"/articles/2025-11-24_jwt-signing-algorithms-guide/","name":"From One to Many: Understanding JWT Signing as You Scale","description":"Follow a startup\u0027s journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way.","isPartOf":{"@id":"/#/schema/website/1"},"about":{"@id":"/#/schema/organization/1"},"datePublished":"2025-11-24T00:00:00CET","dateModified":"2025-11-24T10:38:32CET","breadcrumb":{"@id":"/articles/2025-11-24_jwt-signing-algorithms-guide/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"/articles/2025-11-24_jwt-signing-algorithms-guide/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["/articles/2025-11-24_jwt-signing-algorithms-guide/"]}]},{"@type":"BreadcrumbList","@id":"/articles/2025-11-24_jwt-signing-algorithms-guide/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"/articles2025-11-24_jwt-signing-algorithms-guide/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"/articles/2025-11-24_jwt-signing-algorithms-guide/#/schema/image/2","url":"/img/jwt-signing-journey.png","contentUrl":"/img/jwt-signing-journey.png","caption":"From One to Many: Understanding JWT Signing as You Scale"}]}]}</script><link rel=icon type=image/png sizes=16x16 href=/img/favicon_hu15104118170292315552.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_hu16093878301332391115.png><link rel=icon type=image/png sizes=48x48 href=/img/favicon_hu12434725207179847527.png><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_hu7101251224233156894.png><script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){u="//matomo.benjamin.ausdertechnik.de/",_paq.push(["setTrackerUrl",u+"matomo.php"]),_paq.push(["setSiteId","2"]);var u,d=document,g=d.createElement("script"),s=d.getElementsByTagName("script")[0];g.async=!0,g.src=u+"matomo.js",s.parentNode.insertBefore(g,s)}()</script></head><body><script src=/js/critical.bundle.min.ddda458abf0f6fd39f37742983a96f96455e0ce327fd50e004539f971eca2ef9.js integrity="sha256-3dpFir8Pb9OfN3Qpg6lvlkVeDOMn/VDgBFOflx7KLvk=" crossorigin=anonymous></script><div class="d-flex flex-column min-vh-100"><div class="d-flex flex-column"><div class="container-fluid fixed-top p-0"><nav class="navbar navbar-fixed-top navbar-expand-md bg-body p-4"><div class="container-xxl p-0"><div class="d-flex align-items-center"><button class="navbar-toggler collapsed p-0 mx-auto invisible" type=button>
<svg class="svg-inline--fa fas fa-ellipsis fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-ellipsis"/></svg>&nbsp;</button></div><a class="navbar-brand mx-auto" href=/ aria-label=Home><img src=/img/logo_icon.svg alt="Uitsmijter logo" height=30 width=30></a><div class=d-flex><button class="navbar-toggler main-nav-toggler collapsed p-0" type=button data-bs-toggle=collapse data-bs-target=#navbar-0-collapse aria-controls=navbar-0 aria-expanded=false aria-label="Toggle main navigation">
<span class="toggler-icon top-bar emphasis"></span>
<span class="toggler-icon middle-bar emphasis"></span>
<span class="toggler-icon bottom-bar emphasis"></span></button></div><div class="navbar-collapse collapse" id=navbar-0-collapse><div class="d-flex flex-fill ms-md-3"><form class="search flex-fill position-relative me-auto"><input class="search-input form-control is-search" type=search placeholder="Search this site" aria-label="Search this site" autocomplete=off><div class="search-suggestions shadow bg-body rounded d-none" data-no-results="No results for"></div></form></div><ul class="navbar-nav ms-auto"><li class=nav-item><a class=nav-link data-nav=main data-nav-main=articles href=/><span>Articles</span>&nbsp;</a></li><li class=nav-item><a class=nav-link data-nav=main data-nav-main=tags href=/tags><span>Tags</span>&nbsp;</a></li><li class=nav-item><a class=nav-link data-nav=main data-nav-main=rss href=https://articles.uitsmijter.io/index.xml><span>RSS</span>&nbsp;</a></li></ul></div></div></nav></div><div class=main-content></div></div><div class="container-xxl flex-fill p-4 px-xxl-0"><div class="row row-cols-1 row-cols-md-2 row-cols-lg-3"><div class="col col-lg-2 d-none d-lg-block sidebar-overflow sticky-top pt-5"></div><div class="col-12 col-md-9 col-lg-8 mb-5 p-4"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/articles/>Articles</a></li><li class="breadcrumb-item active" aria-current=page>From One to Many: Understanding JWT Signing as You Scale</li></ol></nav><p class="display-4 mt-5">From One to Many: Understanding JWT Signing as You Scale</p><small class="text-body-secondary text-uppercase">Posted on November 24, 2025
&bull;
16&nbsp;min read &bull;
3,306&nbsp;words</small><div class=mt-3><div class=d-none-dark><div class="hstack gap-1"><a aria-label=JWT href=/tags/jwt class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>JWT</div></div></a>&nbsp;
<a aria-label=Security href=/tags/security class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Security</div></div></a>&nbsp;
<a aria-label=Authentication href=/tags/authentication class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Authentication</div></div></a>&nbsp;
<a aria-label=RS256 href=/tags/rs256 class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>RS256</div></div></a>&nbsp;
<a aria-label=HS256 href=/tags/hs256 class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>HS256</div></div></a>&nbsp;
<a aria-label=Architecture href=/tags/architecture class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Architecture</div></div></a>&nbsp;
<a aria-label=Microservices href=/tags/microservices class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Microservices</div></div></a>&nbsp;</div></div><div class=d-none-light><div class="hstack gap-1"><a aria-label=JWT href=/tags/jwt class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>JWT</div></div></a>&nbsp;
<a aria-label=Security href=/tags/security class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Security</div></div></a>&nbsp;
<a aria-label=Authentication href=/tags/authentication class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Authentication</div></div></a>&nbsp;
<a aria-label=RS256 href=/tags/rs256 class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>RS256</div></div></a>&nbsp;
<a aria-label=HS256 href=/tags/hs256 class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>HS256</div></div></a>&nbsp;
<a aria-label=Architecture href=/tags/architecture class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Architecture</div></div></a>&nbsp;
<a aria-label=Microservices href=/tags/microservices class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Microservices</div></div></a>&nbsp;</div></div></div><div class="py-3 text-body-secondary hstack gap-1">Share via
<a aria-label="Share via" href="https://www.linkedin.com/sharing/share-offsite/?url=/articles/2025-11-24_jwt-signing-algorithms-guide/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-linkedin fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-linkedin"/></svg></div></div></a><a aria-label="Share via" href="https://mastodonshare.com/?url=/articles/2025-11-24_jwt-signing-algorithms-guide/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-mastodon fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-mastodon"/></svg></div></div></a><a aria-label="Share via" href="https://www.facebook.com/sharer.php?u=/articles/2025-11-24_jwt-signing-algorithms-guide/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-facebook fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 512 512"><use href="#fab-facebook"/></svg></div></div></a><a aria-label="Share via" href="whatsapp://send?text=From+One+to+Many%3A+Understanding+JWT+Signing+as+You+Scale%20/articles/2025-11-24_jwt-signing-algorithms-guide/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-whatsapp fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-whatsapp"/></svg></div></div></a><div id=toast-message-email-4 class=toast role=alert aria-live=assertive aria-atomic=true><div class=toast-header><strong class=me-auto>Uitsmijter</strong>
<button type=button class=btn-close data-bs-dismiss=toast aria-label=Close></button></div><div class=toast-body>Link copied to clipboard</div></div><a aria-label="Share via" href=#! data-toast-target=toast-message-email-4 data-clipboard=/articles/2025-11-24_jwt-signing-algorithms-guide/ class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fas fa-link fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg></div></div></a><a aria-label="Share via" href=#! id=btn-webshare class="btn btn-primary position-relative btn-social p-0" role=button data-sharing-description="Follow a startup's journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way." data-sharing-title="From One to Many: Understanding JWT Signing as You Scale" data-sharing-url=/articles/2025-11-24_jwt-signing-algorithms-guide/><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fas fa-share-nodes fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-share-nodes"/></svg></div></div></a></div><p class="lead mb-5 mt-3">Follow a startup's journey from simple authentication to distributed systems, learning when and why to switch from HS256 to RS256 JWT signing along the way.</p><div class="d-md-none pb-5"><div class="d-grid gap-2 mx-auto"><a aria-label="On this page" href=#toc-collapse class="btn btn-outline-secondary position-relative toc-button" role=button data-bs-toggle=collapse aria-expanded=false aria-controls=toc-collapse><div class="d-flex justify-content-between"><div class=my-auto>On this page</div><div class="align-self-center ps-1"><svg class="svg-inline--fa fas fa-sort" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 320 512"><use href="#fas-sort"/></svg></div></div></a>&nbsp;</div><p><div class="collapse border bg-body-tertiary rounded p-1 navbar-nav-scroll" id=toc-collapse><div class="toc toc-panel text-body p-2"><small><nav id=TableOfContents><ul><li><a href=#the-beginning-building-bread-and-butter-inc>The Beginning: Building Bread and Butter Inc.</a></li><li><a href=#chapter-1-one-service-one-secret>Chapter 1: One Service, One Secret</a></li><li><a href=#chapter-2-the-growing-pains>Chapter 2: The Growing Pains</a></li><li><a href=#chapter-3-the-solution---asymmetric-signing>Chapter 3: The Solution - Asymmetric Signing</a><ul><li><a href=#the-signature-vs-the-stamp>The Signature vs. The Stamp</a></li><li><a href=#jwks-the-public-key-distribution-system>JWKS: The Public Key Distribution System</a></li></ul></li><li><a href=#chapter-4-bread-and-butter-inc-migrates-to-rs256>Chapter 4: Bread and Butter Inc. Migrates to RS256</a><ul><li><a href=#step-1-update-the-tenant-configuration>Step 1: Update the Tenant Configuration</a></li><li><a href=#step-2-update-services-to-use-jwks>Step 2: Update Services to Use JWKS</a></li><li><a href=#step-3-roll-out-across-all-services>Step 3: Roll Out Across All Services</a></li><li><a href=#the-result>The Result</a></li></ul></li><li><a href=#chapter-5-why-uitsmijter-chose-rs256-as-default>Chapter 5: Why Uitsmijter Chose RS256 as Default</a><ul><li><a href=#the-philosophy-making-security-easy>The Philosophy: Making Security Easy</a></li></ul></li><li><a href=#understanding-the-technical-details>Understanding the Technical Details</a></li><li><a href=#a-practical-guide-to-getting-started>A Practical Guide to Getting Started</a></li></ul></nav></small></div></div></p></div><figure class="img-wrap mb-5"><div><img class="img-fluid rounded" src=/img/jwt-signing-journey-1400x600.png fetchpriority=high srcset="/img/jwt-signing-journey-576x247.webp 576w, /img/jwt-signing-journey-768x329.webp 768w, /img/jwt-signing-journey-992x425.webp 992w, /img/jwt-signing-journey-1200x514.webp 1200w, /img/jwt-signing-journey-1400x600.webp 1400w" sizes=100vw height=600 width=1400 alt="From One to Many: Understanding JWT Signing as You Scale"></div><figcaption class=figure-caption>Photo by ChatGPT</figcaption></figure><p>Let me tell you a story about Bread and Butter Inc., a small e-commerce startup that learned about JWT signing the hard wayâ€”so you don&rsquo;t have to.</p><h2 id=the-beginning-building-bread-and-butter-inc class=heading>The Beginning: Building Bread and Butter Inc. <a href=#the-beginning-building-bread-and-butter-inc aria-labelledby=the-beginning-building-bread-and-butter-inc><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>Sarah and her team of three developers are building Bread and Butter Inc., an online marketplace for artisan goods. They need authenticationâ€”users should log in once and access both the website and the mobile app without entering their password again.</p><p>&ldquo;Just Web Tokens,&rdquo; Sarah&rsquo;s backend developer suggests. &ldquo;JWT. Everyone uses them.&rdquo;</p><p>&ldquo;Sounds good,&rdquo; Sarah says. &ldquo;Make it secure.&rdquo;</p><p>And that&rsquo;s where our storyâ€”and your understanding of JWT signingâ€”begins.</p><h2 id=chapter-1-one-service-one-secret class=heading>Chapter 1: One Service, One Secret <a href=#chapter-1-one-service-one-secret aria-labelledby=chapter-1-one-service-one-secret><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>In Bread and Butter Inc.&rsquo;s early days, life is simple. They have one authentication server running Uitsmijter, one Node.js API backend, a React frontend, and an iOS app. The developer sets up HS256, which stands for HMAC with SHA-256, a symmetric signing algorithm.</p><p>What does &ldquo;symmetric&rdquo; mean in plain English? Imagine you and your best friend have a secret handshake. Only you two know it. When you meet someone who does the handshake correctly, you know they talked to your friend. That&rsquo;s HS256â€”a shared secret that both signs and verifies tokens. The authentication server creates a token and signs it with the secret. When the API server receives that token, it uses the same secret to verify the signature. If the signature matches, the token is genuine.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>â”‚  Uitsmijter Server  â”‚                    â”‚   API Server     â”‚
</span></span><span class=line><span class=cl>â”‚                     â”‚                    â”‚                  â”‚
</span></span><span class=line><span class=cl>â”‚   SECRET = &#34;xyz&#34;    â”‚â—„â”€â”€â”€â”€Same Secretâ”€â”€â”€â–ºâ”‚  SECRET = &#34;xyz&#34;  â”‚
</span></span><span class=line><span class=cl>â”‚                     â”‚                    â”‚                  â”‚
</span></span><span class=line><span class=cl>â”‚    Signs JWT with   â”‚â”€â”€â”€â”€â”€JWT Tokenâ”€â”€â”€â”€â”€â–ºâ”‚  Verifies JWT    â”‚
</span></span><span class=line><span class=cl>â”‚    secret &#34;xyz&#34;     â”‚                    â”‚  with &#34;xyz&#34;      â”‚
</span></span><span class=line><span class=cl>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div></div><p>The configuration is straightforward. Sarah&rsquo;s team creates a tenant configuration file that tells Uitsmijter to use HS256 for signing tokens. They also set up an environment variable containing the secret key. It is a long, random string that both servers share. It&rsquo;s like giving both servers the same password.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># tenant.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>app.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Tenant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>breadandbutter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=l>HS256</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>breadandbutter.com</span></span></span></code></pre></div></div><p>The team also configures the secret as an environment variable on both servers. This secret is precious: anyone who has it can create valid tokens, so they keep it in a secure vault and inject it into their servers at runtime.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>JWT_SECRET</span><span class=o>=</span>super-secret-key-dont-share-this</span></span></code></pre></div></div><p>It works beautifully. When a user logs in, the authentication server creates a JWT containing their user ID and permissions, signs it with the secret, and sends it to the user. The user includes this token in every request to the API. The API server checks the signature using the same secret, and if it matches, it trusts the user information inside. Fast, simple, and perfect for a startup with three developers and one service.</p><h2 id=chapter-2-the-growing-pains class=heading>Chapter 2: The Growing Pains <a href=#chapter-2-the-growing-pains aria-labelledby=chapter-2-the-growing-pains><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>Six months later, Bread and Butter Inc. is thriving. They&rsquo;ve raised a seed round and grown to twelve developers. Their simple architecture has evolved. They now have an authentication server, the main API server, a payment processing service (required for PCI compliance), an inventory management service, a shipping and logistics service, an email notification service, and an analytics service.</p><p>Every one of these services needs to verify JWTs. When a request comes in with a token, each service needs to check that it&rsquo;s genuine before trusting it. So Sarah&rsquo;s team does what seems logical: they copy the JWT_SECRET to all seven services.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>              â”‚  Uitsmijter (Auth Server)   â”‚
</span></span><span class=line><span class=cl>              â”‚    SECRET = &#34;xyz&#34;           â”‚
</span></span><span class=line><span class=cl>              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span class=line><span class=cl>                         â”‚
</span></span><span class=line><span class=cl>          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>          â”‚              â”‚              â”‚              â”‚
</span></span><span class=line><span class=cl>    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>    â”‚ Payment  â”‚   â”‚Inventory â”‚  â”‚ Shipping â”‚  â”‚  Email   â”‚
</span></span><span class=line><span class=cl>    â”‚&#34;xyz&#34;     â”‚   â”‚&#34;xyz&#34;     â”‚  â”‚&#34;xyz&#34;     â”‚  â”‚&#34;xyz&#34;     â”‚
</span></span><span class=line><span class=cl>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span class=line><span class=cl>         âš ï¸              âš ï¸             âš ï¸             âš ï¸</span></span></code></pre></div></div><p>Then the problems start. One Monday morning, a junior developer accidentally commits the team&rsquo;s .env file to GitHub. The repository is public for about three hours before someone notices. During those three hours, the JWT_SECRET is exposed to the entire internet. The team has to rotate it immediately, which means updating the secret in seven different services, coordinating deploys across multiple teams, and hoping nothing breaks. Several services fail during the rotation because the timing isn&rsquo;t perfect, leading to authentication errors for users.</p><p>A few weeks later, Bread and Butter Inc. partners with a fulfillment company that needs to verify tokens to process orders. Now the secret must be shared with an external company. Sarah realizes that if this partner gets breached, Bread and Butter Inc.&rsquo;s entire authentication system is compromised. The fulfillment company could potentially sign tokens as any Bread and Butter Inc. user.</p><p>Then comes the PCI compliance audit. The auditor sits across from Sarah and asks a pointed question: &ldquo;What happens if one of your services is compromised?&rdquo;</p><p>Sarah has to admit the uncomfortable truth: &ldquo;If any service is hacked, the attacker can sign tokens as any user. They could create admin tokens, access any account, or impersonate any customer.&rdquo;</p><p>The auditor&rsquo;s eyebrows rise. &ldquo;That&rsquo;s&mldr; not ideal for a payment processing system.&rdquo;</p><p>Meanwhile, onboarding new developers has become painful. Every new team member needs the JWT secret. It&rsquo;s documented in Slack, buried in old email threads, scattered across various .env files in different repositories. Sarah realizes they have a secret management nightmare. Different developers have different versions of the secret, and nobody&rsquo;s quite sure which one is current.</p><p>Late one night, reviewing these issues for the upcoming board meeting, Sarah asks her team: &ldquo;Isn&rsquo;t there a better way to do this?&rdquo;</p><h2 id=chapter-3-the-solution---asymmetric-signing class=heading>Chapter 3: The Solution - Asymmetric Signing <a href=#chapter-3-the-solution---asymmetric-signing aria-labelledby=chapter-3-the-solution---asymmetric-signing><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>The senior developer suggests switching to RS256. &ldquo;RS what?&rdquo; Sarah asks, already dreading another complexity to manage.</p><p>&ldquo;RS256. It uses public and private keys instead of a shared secret. Like how SSH keys work,&rdquo; the developer explains. &ldquo;We&rsquo;ve been meaning to do this anyway.&rdquo;</p><p>Let me explain the difference with an analogy that makes it crystal clear.</p><h3 id=the-signature-vs-the-stamp class=heading>The Signature vs. The Stamp <a href=#the-signature-vs-the-stamp aria-labelledby=the-signature-vs-the-stamp><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>HS256 is like a rubber stamp. Anyone with the stamp can create valid documents. If you share the stamp with ten people and one person loses it or someone steals it, every document ever stamped is now suspect. You have no way to know which documents are genuine and which were created by the thief. The only solution is to get a new stamp and re-stamp everything.</p><p>RS256 is like your handwritten signature. Only you can create your signature because it requires your private key, which stays with you alone. Anyone can verify it&rsquo;s your signature by comparing it to known samples of your signature, which is the public key. If someone steals a document with your signature on it, they still can&rsquo;t forge new signatures. They can look at your signature all they want, but they can&rsquo;t reproduce it on new documents. Your signing ability remains secure even though your signature is publicly visible.</p><p>Here&rsquo;s how it works in practice for Bread and Butter Inc.:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>â”‚      Uitsmijter Auth Server        â”‚
</span></span><span class=line><span class=cl>â”‚                                    â”‚
</span></span><span class=line><span class=cl>â”‚  Private Key ğŸ” (stays secret!)   â”‚  â—„â”€â”€ Only place that can sign tokens
</span></span><span class=line><span class=cl>â”‚                                    â”‚
</span></span><span class=line><span class=cl>â”‚  Public Key ğŸ”“ (shared via JWKS)  â”‚
</span></span><span class=line><span class=cl>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span class=line><span class=cl>               â”‚
</span></span><span class=line><span class=cl>               â”‚ Publishes public keys at:
</span></span><span class=line><span class=cl>               â”‚ /.well-known/jwks.json
</span></span><span class=line><span class=cl>               â”‚
</span></span><span class=line><span class=cl>       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>       â”‚                â”‚          â”‚          â”‚          â”‚
</span></span><span class=line><span class=cl>       â–¼                â–¼          â–¼          â–¼          â–¼
</span></span><span class=line><span class=cl>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class=line><span class=cl>  â”‚Payment  â”‚     â”‚Inventoryâ”‚ â”‚Shipping â”‚ â”‚ Email   â”‚ â”‚Partner   â”‚
</span></span><span class=line><span class=cl>  â”‚         â”‚     â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚Fulfillmentâ”‚
</span></span><span class=line><span class=cl>  â”‚PublicğŸ”“ â”‚     â”‚PublicğŸ”“ â”‚ â”‚PublicğŸ”“ â”‚ â”‚PublicğŸ”“ â”‚ â”‚PublicğŸ”“  â”‚
</span></span><span class=line><span class=cl>  â”‚         â”‚     â”‚         â”‚ â”‚         â”‚ â”‚         â”‚ â”‚          â”‚
</span></span><span class=line><span class=cl>  â”‚Verifies â”‚     â”‚Verifies â”‚ â”‚Verifies â”‚ â”‚Verifies â”‚ â”‚Verifies  â”‚
</span></span><span class=line><span class=cl>  â”‚tokens âœ“ â”‚     â”‚tokens âœ“ â”‚ â”‚tokens âœ“ â”‚ â”‚tokens âœ“ â”‚ â”‚tokens âœ“  â”‚
</span></span><span class=line><span class=cl>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div></div><p>The magic of this approach becomes clear when you think about what an attacker could do. Even if the payment service gets hacked, the shipping service gets breached, and the partner fulfillment company&rsquo;s entire database is stolen, the attacker still can&rsquo;t sign new tokens. They only have the public key, which is designed to verify signatures but never create them. It&rsquo;s mathematically impossible to derive the private key from the public key. That&rsquo;s the foundation of public-key cryptography.</p><h3 id=jwks-the-public-key-distribution-system class=heading>JWKS: The Public Key Distribution System <a href=#jwks-the-public-key-distribution-system aria-labelledby=jwks-the-public-key-distribution-system><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>&ldquo;But how do all these services get the public key?&rdquo; Sarah asks, imagining another configuration nightmare.</p><p>&ldquo;That&rsquo;s the elegant part,&rdquo; the developer explains. &ldquo;JWKS! JSON Web Key Set. Uitsmijter publishes the public keys at a well-known URL. Services fetch them automatically.&rdquo;</p><p>When a service needs to verify a token, it follows a simple process. First, it looks at the token&rsquo;s header, which includes a field called kid, short for key ID. This tells the service which public key was used to sign the token. The service then fetches the current set of public keys from the authentication server&rsquo;s JWKS endpoint at a URL like <code>https://auth.breadandbutter.com/.well-known/jwks.json</code>. It finds the public key that matches the kid from the token header. Finally, it uses that public key to verify the token&rsquo;s signature.</p><p>The JWKS endpoint returns a JSON document containing all current public keys. Here&rsquo;s what it looks like:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;kty&#34;</span><span class=p>:</span> <span class=s2>&#34;RSA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;use&#34;</span><span class=p>:</span> <span class=s2>&#34;sig&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;kid&#34;</span><span class=p>:</span> <span class=s2>&#34;2025-11-24&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;alg&#34;</span><span class=p>:</span> <span class=s2>&#34;RS256&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;n&#34;</span><span class=p>:</span> <span class=s2>&#34;xGOr-H7A...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;e&#34;</span><span class=p>:</span> <span class=s2>&#34;AQAB&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>Services cache these public keys, checking occasionally for updates. When Uitsmijter rotates keys, it keeps the old public keys available in the JWKS for a transition period, so tokens signed with the old key continue working while services gradually refresh their caches. Everything just works, with no coordination required.</p><h2 id=chapter-4-bread-and-butter-inc-migrates-to-rs256 class=heading>Chapter 4: Bread and Butter Inc. Migrates to RS256 <a href=#chapter-4-bread-and-butter-inc-migrates-to-rs256 aria-labelledby=chapter-4-bread-and-butter-inc-migrates-to-rs256><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>Sarah&rsquo;s team decides to make the switch. With Uitsmijter 0.10.1, the migration is surprisingly simple. The developer who suggested RS256 walks Sarah through the process on a Friday afternoon, promising it won&rsquo;t ruin anyone&rsquo;s weekend.</p><h3 id=step-1-update-the-tenant-configuration class=heading>Step 1: Update the Tenant Configuration <a href=#step-1-update-the-tenant-configuration aria-labelledby=step-1-update-the-tenant-configuration><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>The first change is a single line in their tenant configuration file. They change <code>jwt_algorithm</code> from HS256 to RS256:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># tenant.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>app.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Tenant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>breadandbutter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RS256 </span><span class=w> </span><span class=c># Changed from HS256</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>breadandbutter.com</span></span></span></code></pre></div></div><p>They apply this configuration to Uitsmijter and watch the logs. Within seconds, Uitsmijter generates a 2048-bit RSA key pair, stores the private key securely, and starts publishing the public key via the JWKS endpoint. The developer opens a browser and navigates to <code>https://auth.breadandbutter.com/.well-known/jwks.json</code>, where they can see the newly generated public key. The authentication server is now ready to sign tokens with RS256.</p><h3 id=step-2-update-services-to-use-jwks class=heading>Step 2: Update Services to Use JWKS <a href=#step-2-update-services-to-use-jwks aria-labelledby=step-2-update-services-to-use-jwks><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>Next comes updating the services. The team starts with the payment service as a test case. The old code using HS256 looked like this:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js service with HS256
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>jwt</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;jsonwebtoken&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>secret</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>JWT_SECRET</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>((</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>token</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>authorization</span><span class=o>?</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>decoded</span> <span class=o>=</span> <span class=nx>jwt</span><span class=p>.</span><span class=nx>verify</span><span class=p>(</span><span class=nx>token</span><span class=p>,</span> <span class=nx>secret</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>req</span><span class=p>.</span><span class=nx>user</span> <span class=o>=</span> <span class=nx>decoded</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Invalid token&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div><p>They replace it with code that fetches public keys from JWKS:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js service with RS256 and JWKS
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>expressjwt</span><span class=o>:</span> <span class=nx>jwt</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express-jwt&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>jwksRsa</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;jwks-rsa&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>jwt</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>secret</span><span class=o>:</span> <span class=nx>jwksRsa</span><span class=p>.</span><span class=nx>expressJwtSecret</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>cache</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>rateLimit</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>jwksUri</span><span class=o>:</span> <span class=s1>&#39;https://auth.breadandbutter.com/.well-known/jwks.json&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}),</span>
</span></span><span class=line><span class=cl>  <span class=nx>algorithms</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;RS256&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}));</span></span></span></code></pre></div></div><p>Notice what disappeared: the JWT_SECRET environment variable. The service no longer needs a shared secret. It just needs to know where to find the public keys, and the jwks-rsa library handles everything else, fetching keys, caching them, and refreshing when needed.</p><p>The developer deploys the updated payment service on Friday evening and monitors it carefully. Everything works perfectly. Tokens are verified correctly, and response times are identical. Over the weekend, they feel confident enough to update the other services.</p><h3 id=step-3-roll-out-across-all-services class=heading>Step 3: Roll Out Across All Services <a href=#step-3-roll-out-across-all-services aria-labelledby=step-3-roll-out-across-all-services><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>Monday morning, they update the inventory service. Tuesday afternoon, the shipping service. Wednesday, email and analytics. By Thursday, all services are using RS256. The migration happened with zero downtime and zero customer impact. Old tokens that were signed with HS256 before the switch continued working because Uitsmijter kept supporting HS256 during the transition period. New tokens used RS256. Services handled both seamlessly.</p><h3 id=the-result class=heading>The Result <a href=#the-result aria-labelledby=the-result><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>Three weeks after the migration, Sarah presents the results to the board. The PCI compliance auditor has approved their setup without reservations. Partner integrations are now secure because Bread and Butter Inc. only shares public keys, which can&rsquo;t be used to forge tokens. Developer onboarding is simplerâ€”new team members don&rsquo;t need any secrets. The security team can rotate keys whenever they want without coordinating deploys across seven different services. And services can now be open-sourced without exposing any signing capability, which opens up possibilities for community contributions.</p><h2 id=chapter-5-why-uitsmijter-chose-rs256-as-default class=heading>Chapter 5: Why Uitsmijter Chose RS256 as Default <a href=#chapter-5-why-uitsmijter-chose-rs256-as-default aria-labelledby=chapter-5-why-uitsmijter-chose-rs256-as-default><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>Here&rsquo;s where the story comes full circle, and we understand the philosophy behind Uitsmijter&rsquo;s evolution.</p><p>When Bread and Butter Inc. was just three developers building one service, HS256 was absolutely the right choice. It&rsquo;s simple to set up, requires minimal configuration, performs slightly faster than RS256, and provides perfectly adequate security for that architecture. Making RS256 the default back then would have been over-engineeringâ€”adding complexity without benefit. A startup with one backend service doesn&rsquo;t need asymmetric cryptography.</p><p>But as Bread and Butter Inc. scaled to microservices, distributed teams, and third-party integrations, RS256 became not just beneficial but essential. The security model of HS256 simply doesn&rsquo;t fit a distributed architecture. The shared secret becomes a liability rather than a convenience.</p><p>We, at the Uitsmijter team, recognized this pattern playing out across countless startups. They saw the same journey repeated: start simple with HS256, scale to microservices, hit security and operational challenges, struggle through a migration to RS256. Every team eventually made the switch, but only after experiencing the pain of managing shared secrets at scale.</p><p>So the team made a deliberate, principled choice about defaults. In version 0.10.0, they introduced RS256 support but kept HS256 as the default. This was the migration phase, giving existing users time to prepare, providing comprehensive documentation, and letting teams upgrade on their schedule. The focus was on making the transition smooth and well-documented.</p><p>Then came version 0.10.1. After seeing successful migrations across our user base and gathering feedback about the process, we made RS256 the default. Not because HS256 is bad, it&rsquo;s not. But because RS256 is the right default for where teams are headed, not just where they are today.</p><p>The configuration remains flexible. If you&rsquo;re building something that genuinely benefits from HS256, perhaps a development tool, an internal system that will never have external integrations, or a single-service application where you&rsquo;re certain the architecture won&rsquo;t change, you can explicitly configure it:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Multi-tenant flexibility in 0.10.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>app.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Tenant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>simple-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=l>HS256 </span><span class=w> </span><span class=c># Explicit override for specific needs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>simple-app.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>app.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Tenant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>enterprise-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RS256 </span><span class=w> </span><span class=c># Default, but explicit for clarity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>enterprise-app.com</span></span></span></code></pre></div></div><h3 id=the-philosophy-making-security-easy class=heading>The Philosophy: Making Security Easy <a href=#the-philosophy-making-security-easy aria-labelledby=the-philosophy-making-security-easy><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h3><p>The Uitsmijter team&rsquo;s philosophy is simple: default to the most secure option that works at scale. For a team just starting out today, RS256 isn&rsquo;t harder than HS256. It&rsquo;s just a different configuration value, and modern JWT libraries make it just as easy to implement. But it provides security from day one, requires no migration as you scale, follows industry best practices by default, and keeps you compliance-ready from the start.</p><p>Think about it from a new developer&rsquo;s perspective. They&rsquo;re starting a project, they read that they need authentication, and they find Uitsmijter. They follow the quickstart guide, which sets up RS256. Their first service verifies tokens using JWKS. Six months later when they add a second service, it also uses JWKS. A year later when they have ten services, they&rsquo;re already following best practices. They never had to have the &ldquo;should we migrate to RS256?&rdquo; conversation because they were already there.</p><p>And if someone truly needs HS256, perhaps because they&rsquo;re migrating from a legacy system or have specific constraints, they can explicitly configure it. The power to choose remains, but the default guides you toward the choice that will serve you best as you grow.</p><h2 id=understanding-the-technical-details class=heading>Understanding the Technical Details <a href=#understanding-the-technical-details aria-labelledby=understanding-the-technical-details><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>For those who want to dig deeper into how these algorithms actually work, let&rsquo;s look under the hood.</p><p>When Uitsmijter creates a token with HS256, it takes the JWT header (which says it&rsquo;s using HS256) and the payload (which contains your user ID, expiration time, and other claims), combines them, and creates an HMAC-SHA256 hash using the shared secret. This hash becomes the signature. The process is deterministicâ€”given the same input and secret, you always get the same signature. That&rsquo;s why anyone with the secret can both create and verify signatures.</p><p>With RS256, the process is different. Uitsmijter takes the header and payload, creates a SHA256 hash, and then signs that hash with the RSA private key. The signature is mathematically tied to the private key through the properties of RSA encryption. When a service wants to verify the token, it uses the public key to check the signature. The public key can confirm that the signature could only have been created by the corresponding private key, but it cannot create signatures itself. This is the mathematical foundation of public-key cryptography, proven secure through decades of use.</p><p>Uitsmijter uses RSA-2048, meaning the key is 2048 bits long. This meets the requirements of RFC 7517 and provides strong security. The keys are generated using cryptographically secure random number generation and stored securely in Redis, where they&rsquo;re protected by Redis&rsquo;s authentication and encryption.</p><p>Key rotation happens automatically every ninety days. Uitsmijter generates a new RSA key pair and starts signing tokens with it. The new key gets added to the JWKS endpoint, while old keys remain available for verification. This means tokens signed with the old key continue working while services gradually refresh their cached JWKS. After a grace periodâ€”longer than the maximum token lifetimeâ€”old keys are removed from JWKS and eventually deleted. The entire process happens seamlessly, with zero downtime and zero manual intervention.</p><h2 id=a-practical-guide-to-getting-started class=heading>A Practical Guide to Getting Started <a href=#a-practical-guide-to-getting-started aria-labelledby=a-practical-guide-to-getting-started><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>If you&rsquo;re ready to use RS256 with Uitsmijter, here&rsquo;s a practical walkthrough of setting everything up.</p><p>Start by installing or upgrading Uitsmijter to version 0.10.1 or later. If you&rsquo;re using Helm, you can upgrade with a single command that pulls the latest version and applies it to your cluster. The upgrade process is designed to be seamlessâ€”Uitsmijter handles the transition from whatever version you&rsquo;re running to the new version without interrupting service.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm upgrade uitsmijter uitsmijter/uitsmijter <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --version <span class=s2>&#34;&gt;=0.10.1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --namespace uitsmijter</span></span></code></pre></div></div><p>Next, create or update your tenant configuration. In version 0.10.1, RS256 is the default, but it&rsquo;s good practice to be explicit about your configuration so other developers can see your intentions clearly:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>app.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Tenant</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>your-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RS256 </span><span class=w> </span><span class=c># Default in 0.10.1+, explicit for clarity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>auth.yourapp.com</span></span></span></code></pre></div></div><p>Apply this configuration to your cluster, and Uitsmijter immediately generates RSA keys and starts publishing them via JWKS.</p><p>To verify everything works, start by checking your JWKS endpoint directly. Use curl to fetch it and pipe the output through jq for pretty printing:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl https://auth.yourapp.com/.well-known/jwks.json <span class=p>|</span> jq</span></span></code></pre></div></div><p>You should see a JSON response containing your public keys. Each key has properties like kty for key type (RSA), use for intended use (sig for signature), kid for key identifier, alg for algorithm (RS256), and the mathematical components n and e that make up the RSA public key.</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;kty&#34;</span><span class=p>:</span> <span class=s2>&#34;RSA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;use&#34;</span><span class=p>:</span> <span class=s2>&#34;sig&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;kid&#34;</span><span class=p>:</span> <span class=s2>&#34;2025-11-24&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;alg&#34;</span><span class=p>:</span> <span class=s2>&#34;RS256&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;n&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;e&#34;</span><span class=p>:</span> <span class=s2>&#34;AQAB&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>You can also decode a token to verify it&rsquo;s using the correct algorithm. The header of an RS256 token includes the algorithm specification and the key identifier:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;alg&#34;</span><span class=p>:</span> <span class=s2>&#34;RS256&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;typ&#34;</span><span class=p>:</span> <span class=s2>&#34;JWT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;kid&#34;</span><span class=p>:</span> <span class=s2>&#34;2025-11-24&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>The kid tells services which public key to use for verification. This is crucial for key rotationâ€”when Uitsmijter generates a new key, it assigns a new kid, and services automatically start using the new key for new tokens while still accepting old tokens verified with old keys.</p><div class="row row-cols-2 mt-5 mb-3"><div class=col></div><div class="col text-end"><a class=previous href=/articles/2025-11-08_uitsmijter-0-10-jwks-rs256/>Uitsmijter 0.10: Enterprise-Grade JWT Signing with JWKS Support&nbsp;<svg class="svg-inline--fa fas fa-arrow-right" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-arrow-right"/></svg></a></div></div><div class="comments mt-5"><div id=discourse-comments></div><meta name=discourse-username content='Verena'><script type=text/javascript>DiscourseEmbed={discourseUrl:"https://discourse.uitsmijter.io/",discourseEmbedUrl:"/articles/2025-11-24_jwt-signing-algorithms-guide/"},function(){var d=document.createElement("script");d.type="text/javascript",d.async=!0,d.src=DiscourseEmbed.discourseUrl+"javascripts/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(d)}()</script></div></div><div class="col col-md-3 col-lg-2 d-none d-md-block pt-5"><div class="toc toc-sidebar mb-5 my-md-0 ps-xl-3 mb-lg-5 p-3 text-body-secondary sticky-top"><strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong><nav id=TableOfContents><ul><li><a href=#the-beginning-building-bread-and-butter-inc>The Beginning: Building Bread and Butter Inc.</a></li><li><a href=#chapter-1-one-service-one-secret>Chapter 1: One Service, One Secret</a></li><li><a href=#chapter-2-the-growing-pains>Chapter 2: The Growing Pains</a></li><li><a href=#chapter-3-the-solution---asymmetric-signing>Chapter 3: The Solution - Asymmetric Signing</a><ul><li><a href=#the-signature-vs-the-stamp>The Signature vs. The Stamp</a></li><li><a href=#jwks-the-public-key-distribution-system>JWKS: The Public Key Distribution System</a></li></ul></li><li><a href=#chapter-4-bread-and-butter-inc-migrates-to-rs256>Chapter 4: Bread and Butter Inc. Migrates to RS256</a><ul><li><a href=#step-1-update-the-tenant-configuration>Step 1: Update the Tenant Configuration</a></li><li><a href=#step-2-update-services-to-use-jwks>Step 2: Update Services to Use JWKS</a></li><li><a href=#step-3-roll-out-across-all-services>Step 3: Roll Out Across All Services</a></li><li><a href=#the-result>The Result</a></li></ul></li><li><a href=#chapter-5-why-uitsmijter-chose-rs256-as-default>Chapter 5: Why Uitsmijter Chose RS256 as Default</a><ul><li><a href=#the-philosophy-making-security-easy>The Philosophy: Making Security Easy</a></li></ul></li><li><a href=#understanding-the-technical-details>Understanding the Technical Details</a></li><li><a href=#a-practical-guide-to-getting-started>A Practical Guide to Getting Started</a></li></ul></nav></div></div></div></div><div class="container-fluid bg-opacity-10 footer-line"><div class="container-xxl px-4 px-xxl-0"><div class="row row-cols-2 py-3 align-items-left"><div class="col col-12 text-sm-start"><a href=https://social.uitsmijter.io/public/local aria-label=Mastodon class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-mastodon fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-mastodon"/></svg>&nbsp;
</a><a href=https://discourse.uitsmijter.io/ aria-label=Discourse class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-discourse fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-discourse"/></svg>&nbsp;
</a><a href=https://github.com/uitsmijter aria-label=GitHub class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-github fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 496 512"><use href="#fab-github"/></svg>&nbsp;</a></div></div></div></div></div><div id=toast-container class="toast-container position-fixed bottom-0 end-0 p-3"><div id=toast-copied-code-message class=toast role=alert aria-live=assertive aria-atomic=true><div class=toast-header><strong class=me-auto>Uitsmijter</strong>
<button type=button class=btn-close data-bs-dismiss=toast aria-label=Close></button></div><div class=toast-body>Code copied to clipboard</div></div></div><script src=/js/main.bundle.min.8bb8263ec99447a5a987835f5a63a9816ec412f9a4111d8b016ef9450f04cc82.js integrity="sha256-i7gmPsmUR6Wph4NfWmOpgW7EEvmkER2LAW75RQ8EzII=" crossorigin=anonymous async></script></body></html>