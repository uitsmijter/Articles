<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.136.2"><link rel=stylesheet href="/css/main.min.49440caa0f907ae3655b9039a0dff4feeea87da7217d4c883dec3d2285dff8db.css" integrity="sha256-SUQMqg+QeuNlW5A5oN/0/u6ofachfUyIPew9IoXf+Ns=" crossorigin=anonymous><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Uitsmijter - SSO for Grafana: Because Nobody Likes Remembering Another Password</title>
<meta name=description content="A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all."><link rel=canonical href=/articles/2025-12-15_grafana-sso-uitsmijter/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="SSO for Grafana: Because Nobody Likes Remembering Another Password"><meta property="og:description" content="A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all."><meta property="og:url" content="/articles/2025-12-15_grafana-sso-uitsmijter/"><meta property="og:site_name" content="Uitsmijter"><meta property="article:published_time" content="2025-12-15T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-15T18:38:37+01:00"><meta property="og:image" content="/img/grafana.png"><meta property="og:image:alt" content="SSO for Grafana: Because Nobody Likes Remembering Another Password"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="SSO for Grafana: Because Nobody Likes Remembering Another Password"><meta name=twitter:description content="A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all."><meta name=twitter:image content="/img/grafana.png"><meta name=twitter:image:alt content="SSO for Grafana: Because Nobody Likes Remembering Another Password"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#/schema/organization/1","name":"Uitsmijter","url":"/","sameAs":["https://github.com/uitsmijter"],"image":{"@type":"ImageObject","@id":"/#/schema/image/1","url":"/\u003cnil\u003e","width":null,"height":null,"caption":"Uitsmijter"}},{"@type":"WebSite","@id":"/#/schema/website/1","url":"/","name":"Uitsmijter","description":"A versatile OAuth2 authorization server and Traefik middleware for Kubernetes and Docker.","publisher":{"@id":"/#/schema/organization/1"}},{"@type":"WebPage","@id":"/articles/2025-12-15_grafana-sso-uitsmijter/","url":"/articles/2025-12-15_grafana-sso-uitsmijter/","name":"SSO for Grafana: Because Nobody Likes Remembering Another Password","description":"A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all.","isPartOf":{"@id":"/#/schema/website/1"},"about":{"@id":"/#/schema/organization/1"},"datePublished":"2025-12-15T00:00:00CET","dateModified":"2025-12-15T18:38:37CET","breadcrumb":{"@id":"/articles/2025-12-15_grafana-sso-uitsmijter/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"/articles/2025-12-15_grafana-sso-uitsmijter/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["/articles/2025-12-15_grafana-sso-uitsmijter/"]}]},{"@type":"BreadcrumbList","@id":"/articles/2025-12-15_grafana-sso-uitsmijter/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"/articles2025-12-15_grafana-sso-uitsmijter/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"/articles/2025-12-15_grafana-sso-uitsmijter/#/schema/image/2","url":"/img/grafana.png","contentUrl":"/img/grafana.png","caption":"SSO for Grafana: Because Nobody Likes Remembering Another Password"}]}]}</script><link rel=icon type=image/png sizes=16x16 href=/img/favicon_hu15104118170292315552.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_hu16093878301332391115.png><link rel=icon type=image/png sizes=48x48 href=/img/favicon_hu12434725207179847527.png><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_hu7101251224233156894.png><script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){u="//matomo.benjamin.ausdertechnik.de/",_paq.push(["setTrackerUrl",u+"matomo.php"]),_paq.push(["setSiteId","2"]);var u,d=document,g=d.createElement("script"),s=d.getElementsByTagName("script")[0];g.async=!0,g.src=u+"matomo.js",s.parentNode.insertBefore(g,s)}()</script></head><body><script src=/js/critical.bundle.min.ddda458abf0f6fd39f37742983a96f96455e0ce327fd50e004539f971eca2ef9.js integrity="sha256-3dpFir8Pb9OfN3Qpg6lvlkVeDOMn/VDgBFOflx7KLvk=" crossorigin=anonymous></script><div class="d-flex flex-column min-vh-100"><div class="d-flex flex-column"><div class="container-fluid fixed-top p-0"><nav class="navbar navbar-fixed-top navbar-expand-md bg-body p-4"><div class="container-xxl p-0"><div class="d-flex align-items-center"><button class="navbar-toggler collapsed p-0 mx-auto invisible" type=button>
<svg class="svg-inline--fa fas fa-ellipsis fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-ellipsis"/></svg>&nbsp;</button></div><a class="navbar-brand mx-auto" href=/ aria-label=Home><img src=/img/logo_icon.svg alt="Uitsmijter logo" height=30 width=30></a><div class=d-flex><button class="navbar-toggler main-nav-toggler collapsed p-0" type=button data-bs-toggle=collapse data-bs-target=#navbar-0-collapse aria-controls=navbar-0 aria-expanded=false aria-label="Toggle main navigation">
<span class="toggler-icon top-bar emphasis"></span>
<span class="toggler-icon middle-bar emphasis"></span>
<span class="toggler-icon bottom-bar emphasis"></span></button></div><div class="navbar-collapse collapse" id=navbar-0-collapse><div class="d-flex flex-fill ms-md-3"><form class="search flex-fill position-relative me-auto"><input class="search-input form-control is-search" type=search placeholder="Search this site" aria-label="Search this site" autocomplete=off><div class="search-suggestions shadow bg-body rounded d-none" data-no-results="No results for"></div></form></div><ul class="navbar-nav ms-auto"><li class=nav-item><a class=nav-link data-nav=main data-nav-main=articles href=/><span>Articles</span>&nbsp;</a></li><li class=nav-item><a class=nav-link data-nav=main data-nav-main=tags href=/tags><span>Tags</span>&nbsp;</a></li><li class=nav-item><a class=nav-link data-nav=main data-nav-main=rss href=https://articles.uitsmijter.io/index.xml><span>RSS</span>&nbsp;</a></li></ul></div></div></nav></div><div class=main-content></div></div><div class="container-xxl flex-fill p-4 px-xxl-0"><div class="row row-cols-1 row-cols-md-2 row-cols-lg-3"><div class="col col-lg-2 d-none d-lg-block sidebar-overflow sticky-top pt-5"></div><div class="col-12 col-md-9 col-lg-8 mb-5 p-4"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/articles/>Articles</a></li><li class="breadcrumb-item active" aria-current=page>SSO for Grafana: Because Nobody Likes Remembering Another Password</li></ol></nav><p class="display-4 mt-5">SSO for Grafana: Because Nobody Likes Remembering Another Password</p><small class="text-body-secondary text-uppercase">Posted on December 15, 2025
&bull;
6&nbsp;min read &bull;
1,069&nbsp;words</small><div class=mt-3><div class=d-none-dark><div class="hstack gap-1"><a aria-label=Grafana href=/tags/grafana class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Grafana</div></div></a>&nbsp;
<a aria-label=SSO href=/tags/sso class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>SSO</div></div></a>&nbsp;
<a aria-label=OAuth href=/tags/oauth class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>OAuth</div></div></a>&nbsp;
<a aria-label=Configuration href=/tags/configuration class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Configuration</div></div></a>&nbsp;
<a aria-label=Tutorial href=/tags/tutorial class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Tutorial</div></div></a>&nbsp;
<a aria-label=Monitoring href=/tags/monitoring class="btn btn-light btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Monitoring</div></div></a>&nbsp;</div></div><div class=d-none-light><div class="hstack gap-1"><a aria-label=Grafana href=/tags/grafana class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Grafana</div></div></a>&nbsp;
<a aria-label=SSO href=/tags/sso class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>SSO</div></div></a>&nbsp;
<a aria-label=OAuth href=/tags/oauth class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>OAuth</div></div></a>&nbsp;
<a aria-label=Configuration href=/tags/configuration class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Configuration</div></div></a>&nbsp;
<a aria-label=Tutorial href=/tags/tutorial class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Tutorial</div></div></a>&nbsp;
<a aria-label=Monitoring href=/tags/monitoring class="btn btn-outline-primary btn-sm position-relative" role=button><div class="d-flex justify-content-center"><div class=my-auto>Monitoring</div></div></a>&nbsp;</div></div></div><div class="py-3 text-body-secondary hstack gap-1">Share via
<a aria-label="Share via" href="https://www.linkedin.com/sharing/share-offsite/?url=/articles/2025-12-15_grafana-sso-uitsmijter/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-linkedin fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-linkedin"/></svg></div></div></a><a aria-label="Share via" href="https://mastodonshare.com/?url=/articles/2025-12-15_grafana-sso-uitsmijter/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-mastodon fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-mastodon"/></svg></div></div></a><a aria-label="Share via" href="https://www.facebook.com/sharer.php?u=/articles/2025-12-15_grafana-sso-uitsmijter/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-facebook fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 512 512"><use href="#fab-facebook"/></svg></div></div></a><a aria-label="Share via" href="whatsapp://send?text=SSO+for+Grafana%3A+Because+Nobody+Likes+Remembering+Another+Password%20/articles/2025-12-15_grafana-sso-uitsmijter/" class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fab fa-whatsapp fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-whatsapp"/></svg></div></div></a><div id=toast-message-email-4 class=toast role=alert aria-live=assertive aria-atomic=true><div class=toast-header><strong class=me-auto>Uitsmijter</strong>
<button type=button class=btn-close data-bs-dismiss=toast aria-label=Close></button></div><div class=toast-body>Link copied to clipboard</div></div><a aria-label="Share via" href=#! data-toast-target=toast-message-email-4 data-clipboard=/articles/2025-12-15_grafana-sso-uitsmijter/ class="btn btn-primary position-relative btn-social p-0" role=button><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fas fa-link fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg></div></div></a><a aria-label="Share via" href=#! id=btn-webshare class="btn btn-primary position-relative btn-social p-0" role=button data-sharing-description="A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all." data-sharing-title="SSO for Grafana: Because Nobody Likes Remembering Another Password" data-sharing-url=/articles/2025-12-15_grafana-sso-uitsmijter/><div class="d-flex justify-content-center"><div class=my-auto></div><div class=align-self-center><svg class="svg-inline--fa fas fa-share-nodes fa-fw" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-share-nodes"/></svg></div></div></a></div><p class="lead mb-5 mt-3">A short, practical guide to configuring Grafana to use Uitsmijter as your SSO provider. One login to rule them all.</p><div class="d-md-none pb-5"></div><figure class="img-wrap mb-5"><div><img class="img-fluid rounded" src=/img/grafana-1400x600.png fetchpriority=high srcset="/img/grafana-576x247.webp 576w, /img/grafana-768x329.webp 768w, /img/grafana-992x425.webp 992w, /img/grafana-1200x514.webp 1200w, /img/grafana-1400x600.webp 1400w" sizes=100vw height=600 width=1400 alt="SSO for Grafana: Because Nobody Likes Remembering Another Password"></div><figcaption class=figure-caption>Photo by ChatGPT</figcaption></figure><p>If you&rsquo;re reading this, you probably already know what Grafana is, but let&rsquo;s get everyone on the same page: <strong>Grafana</strong> is your friendly neighborhood observability platform. It&rsquo;s the thing that turns your messy metrics, logs, and traces into beautiful dashboards that actually make sense. You know those colorful graphs your DevOps team stares at during incidents? Yeah, that&rsquo;s Grafana. It&rsquo;s like having a command center for your infrastructureâ€”except instead of launching missiles, you&rsquo;re launching alerts about your CPU usage hitting 99%.</p><p>Here&rsquo;s the thing though: your team probably already has accounts for Slack, GitHub, Jenkins, Jira, AWS, that weird internal tool Bob built in 2017, and approximately 47 other services. Adding yet another username and password for Grafana is about as appealing as another standup meeting. That&rsquo;s where <strong>Single Sign-On (SSO)</strong> comes to the rescue. With SSO, your team logs in once (to Uitsmijter, in this case), and boomâ€”they&rsquo;re authenticated everywhere. No more password resets. No more &ldquo;wait, was this the password with the exclamation point or the dollar sign?&rdquo; No more tears.</p><h2 id=why-uitsmijter--grafana class=heading>Why Uitsmijter + Grafana? <a href=#why-uitsmijter--grafana aria-labelledby=why-uitsmijter--grafana><svg class="svg-inline--fa fas fa-link anchor" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 640 512"><use href="#fas-link"/></svg>&nbsp;</a></h2><p>Uitsmijter is an OAuth2/OIDC-compliant authorization server that plays extremely well with others. It doesn&rsquo;t care where your users live (LDAP, database, JavaScript voodooâ€”you name it), and it speaks OAuth2 fluently. Grafana? Also speaks OAuth2. Match made in heaven. Before we dive in, make sure you have Uitsmijter up and running (check <a href=https://docs.uitsmijter.io>docs.uitsmijter.io</a> if you need help), a Tenant configured in Uitsmijter that represents your organization, and Grafana installed (we&rsquo;ll assume you&rsquo;re running it in Kubernetes with Helm, because it&rsquo;s 2025).</p><p>First things first: you need to tell Uitsmijter about Grafana by creating a <strong>Client</strong> entity. Here&rsquo;s what that looks like:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>entities.uitsmijter.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Client</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>grafana-client</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>your-namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ident</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;249C1059-1181-4666-9D36-8C5F3D3D8E7C&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tenantname</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;your-tenant-name&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>redirect_uri</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://grafana.yourdomain.com/login/generic_oauth&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>isPkceOnly</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>scopes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>access</span></span></span></code></pre></div></div><p>The <code>ident</code> field can be any unique stringâ€”UUIDs work great. This becomes your <code>client_id</code>. Setting <code>isPkceOnly: true</code> enables PKCE-only mode, which means no client_secret is needed. Much more secure! The <code>redirect_uri</code> is where Uitsmijter sends users after they log in; for Grafana, it&rsquo;s always <code>/login/generic_oauth</code>. The <code>scopes</code> array defines what access levels are availableâ€”<code>access</code> is the basic scope, but you can add more if you need fine-grained permissions.</p><p>Now for the fun part: telling Grafana to trust Uitsmijter. If you&rsquo;re using the Grafana Helm chart (and you should be), you&rsquo;ll add this configuration to your <code>values.yaml</code>:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>grafana.ini</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>root_url</span><span class=p>:</span><span class=w> </span><span class=l>https://grafana.yourdomain.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>auth.generic_oauth</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Uitsmijter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>allow_sign_up</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auto_login</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>client_id</span><span class=p>:</span><span class=w> </span><span class=l>249C1059-1181-4666-9D36-8C5F3D3D8E7C</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>scopes</span><span class=p>:</span><span class=w> </span><span class=l>access</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auth_url</span><span class=p>:</span><span class=w> </span><span class=l>https://login.yourdomain.com/authorize</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>token_url</span><span class=p>:</span><span class=w> </span><span class=l>https://login.yourdomain.com/token</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>api_url</span><span class=p>:</span><span class=w> </span><span class=l>https://login.yourdomain.com/token/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>email_attribute_path</span><span class=p>:</span><span class=w> </span><span class=l>profile.email</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name_attribute_path</span><span class=p>:</span><span class=w> </span><span class=l>profile.name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>login_attribute_path</span><span class=p>:</span><span class=w> </span><span class=l>user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>role_attribute_path</span><span class=p>:</span><span class=w> </span><span class=l>role</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>role_attribute_strict</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>use_pkce</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls_skip_verify_insecure</span><span class=p>:</span><span class=w> </span><span class=kc>false</span></span></span></code></pre></div></div><p>Let&rsquo;s break this down. The <code>auth_url</code> is where Grafana sends users to log in (Uitsmijter&rsquo;s <code>/authorize</code> endpoint). The <code>token_url</code> is where Grafana exchanges the authorization code for an access token, and the <code>api_url</code> is where Grafana fetches user information from Uitsmijter&rsquo;s <code>/token/info</code> endpoint. When Uitsmijter returns user info, it comes back in a JSON format like this:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;viewer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;user&#34;</span><span class=p>:</span> <span class=s2>&#34;alice@example.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;profile&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Alice Wonderland&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;alice@example.com&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>The <code>*_attribute_path</code> settings tell Grafana where to find the email, name, and login fields in this response. This is where the magic of role mapping happens too. Uitsmijter returns a <code>role</code> field, which maps directly to Grafana roles: <code>Admin</code> gives full Grafana admin powers, <code>Editor</code> allows creating and editing dashboards, and <code>Viewer</code> provides read-only access. Setting <code>role_attribute_strict: false</code> allows users without explicit roles to still log inâ€”they&rsquo;ll default to Viewer permissions.</p><p>The <code>use_pkce: true</code> setting in Grafana, combined with <code>isPkceOnly: true</code> in your Uitsmijter Client configuration, enables <strong>PKCE (Proof Key for Code Exchange)</strong>â€”a security extension to OAuth2 that prevents authorization code interception attacks. Here&rsquo;s why it&rsquo;s awesome: it&rsquo;s more secure because even if someone intercepts the authorization code they can&rsquo;t use it, and it&rsquo;s perfect for public clients like browsers and mobile apps that can&rsquo;t keep secrets secret. The flow works like this: Grafana generates a random <code>code_verifier</code>, creates a <code>code_challenge</code> (hash of the verifier), Uitsmijter stores the challenge during <code>/authorize</code>, and when Grafana calls <code>/token</code> it sends the original <code>code_verifier</code> which Uitsmijter verifies matches. Bottom line: <strong>Always use PKCE.</strong> There&rsquo;s no good reason not to.</p><p>Once you&rsquo;ve got your configuration ready, deploy Grafana with:</p><div class="mb-3 syntax-highlight"><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm upgrade --install grafana grafana/grafana -f values.yaml</span></span></code></pre></div></div><p>Now visit your Grafana instance and you should see a shiny new &ldquo;Sign in with Uitsmijter&rdquo; button (or whatever you named it). Click it, log in through Uitsmijter, and you&rsquo;re in! Of course, there are a few common gotchas to watch out for. If you see a &ldquo;redirect_uri_mismatch&rdquo; error, make sure the <code>redirect_uri</code> in your Uitsmijter Client exactly matches <code>https://your-grafana-url/login/generic_oauth</code>â€”no trailing slashes, no typos. If users are getting &ldquo;User has no permissions&rdquo; errors, check that your JavaScript provider in Uitsmijter is returning a <code>role</code> field and that <code>role_attribute_path</code> in Grafana is set to <code>role</code>.</p><p>For TLS certificate issues (the dreaded &ldquo;x509: certificate signed by unknown authority&rdquo;), either fix your certificates the right way or set <code>tls_skip_verify_insecure: true</code> for developmentâ€”just remember to set it back to <code>false</code> in production! If you set <code>auto_login: true</code>, Grafana will skip its login page and go straight to Uitsmijter, which is great for pure SSO setups but terrible if you still need local admin access. Keep it <code>false</code> until you&rsquo;re sure. And if PKCE isn&rsquo;t working and you&rsquo;re seeing &ldquo;invalid_grant&rdquo; or &ldquo;code_verifier required&rdquo; errors, make sure your Uitsmijter Client has <code>isPkceOnly: true</code> set, Grafana has <code>use_pkce: true</code> enabled, and you&rsquo;re running recent versions of both (Uitsmijter 0.10.0+, Grafana 8.0+).</p><p>A few pro tips: test with a non-admin account first so you don&rsquo;t lock yourself out, monitor your auth logs in both Grafana and Uitsmijter to catch issues early, and consider automating role updates in your Uitsmijter provider if your team structure changes frequently. Most importantly, use proper TLS in productionâ€”don&rsquo;t skip certificate verification outside of development environments.</p><p>So there you have it: register Grafana as an OAuth Client in Uitsmijter with <code>isPkceOnly: true</code>, configure <code>auth.generic_oauth</code> in Grafana&rsquo;s <code>values.yaml</code> with <code>use_pkce: true</code>, map user attributes and roles correctly, and deploy. No client_secret neededâ€”PKCE handles security. Your team can now access Grafana with the same credentials they use everywhere else. One less password to remember, one more step toward infrastructure nirvana, and with PKCE, it&rsquo;s more secure than ever.</p><p>For more information, check out the <a href=https://docs.uitsmijter.io>Uitsmijter documentation</a>, the <a href=https://docs.uitsmijter.io/configuration/tenant_client_config/>Uitsmijter Client configuration guide</a>, <a href=https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-authentication/generic-oauth/>Grafana&rsquo;s OAuth documentation</a>, the <a href=https://github.com/uitsmijter/Uitsmijter>Uitsmijter GitHub repository</a>, join the discussion at <a href=https://discourse.uitsmijter.io>discourse.uitsmijter.io</a>, or read more about <a href=https://oauth.net/2/pkce/>PKCE</a>.</p><p>Now go forth and authenticate! ðŸš€</p><div class="row row-cols-2 mt-5 mb-3"><div class=col></div><div class="col text-end"><a class=previous href=/articles/release-0.10.3-scope-enrichment/>Uitsmijter 0.10.3: Dynamic Scope Assignment&nbsp;<svg class="svg-inline--fa fas fa-arrow-right" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fas-arrow-right"/></svg></a></div></div><div class="comments mt-5"><div id=discourse-comments></div><meta name=discourse-username content='Verena'><script type=text/javascript>DiscourseEmbed={discourseUrl:"https://discourse.uitsmijter.io/",discourseEmbedUrl:"/articles/2025-12-15_grafana-sso-uitsmijter/"},function(){var d=document.createElement("script");d.type="text/javascript",d.async=!0,d.src=DiscourseEmbed.discourseUrl+"javascripts/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(d)}()</script></div></div><div class="col col-md-3 col-lg-2 d-none d-md-block pt-5"><div class="toc toc-sidebar mb-5 my-md-0 ps-xl-3 mb-lg-5 p-3 text-body-secondary sticky-top"></div></div></div></div><div class="container-fluid bg-opacity-10 footer-line"><div class="container-xxl px-4 px-xxl-0"><div class="row row-cols-2 py-3 align-items-left"><div class="col col-12 text-sm-start"><a href=https://social.uitsmijter.io/public/local aria-label=Mastodon class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-mastodon fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-mastodon"/></svg>&nbsp;
</a><a href=https://discourse.uitsmijter.io/ aria-label=Discourse class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-discourse fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 448 512"><use href="#fab-discourse"/></svg>&nbsp;
</a><a href=https://github.com/uitsmijter aria-label=GitHub class="text-decoration-none link-secondary d-inline p-2"><svg class="svg-inline--fa fab fa-github fa-2x" fill="currentcolor" aria-hidden="true" role="img" viewBox="0 0 496 512"><use href="#fab-github"/></svg>&nbsp;</a></div></div></div></div></div><div id=toast-container class="toast-container position-fixed bottom-0 end-0 p-3"><div id=toast-copied-code-message class=toast role=alert aria-live=assertive aria-atomic=true><div class=toast-header><strong class=me-auto>Uitsmijter</strong>
<button type=button class=btn-close data-bs-dismiss=toast aria-label=Close></button></div><div class=toast-body>Code copied to clipboard</div></div></div><script src=/js/main.bundle.min.3f29595e9df0289d0894ef54868214d6d638decc86f007e6b899ceb3180e4a6b.js integrity="sha256-PylZXp3wKJ0IlO9UhoIU1tY43syG8AfmuJnOsxgOSms=" crossorigin=anonymous async></script></body></html>